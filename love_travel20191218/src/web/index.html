<!DOCTYPE html>
<html xmlns:th="http://www.w3.org/1999/xhtml">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>主页</title>
		<link href="https://cdn.bootcss.com/twitter-bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
		<script type="text/javascript" src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
		<script type="text/javascript" src="js/common_myInfo.js"></script>
		<script type="text/javascript" src="https://cdn.bootcss.com/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>

		<!--时间插件-->
		<link href="https://cdn.bootcss.com/bootstrap-datetimepicker/4.17.47/css/bootstrap-datetimepicker.min.css" rel="stylesheet">
		<script src="https://cdn.bootcss.com/moment.js/2.24.0/moment.min.js"></script>
		<script src="https://cdn.bootcss.com/bootstrap-datetimepicker/4.17.47/js/bootstrap-datetimepicker.min.js"></script>
		<link  rel="stylesheet" href="http://hovertree.com/texiao/js/36/css/cityselect.css">
		<link rel="stylesheet" th:href="@{/css/iconfont.css}">
	</head>
	<style>
		.test{
				width: 100%;
				height: 50px;
				background-color:lightgreen;
			}
		.affix{top:0px;}
	</style>
	<!-- 显示用户登录状态 -->
	<script type="text/javascript">
		$(function(){
			$("#logout").click(function () {
				sessionStorage.removeItem("user")
                window.location.reload();
            })
			var userStr = sessionStorage.getItem("user")
			var user = JSON.parse(userStr)
			console.log(user)
			if (user == null || user == "") {
				$("#loginStatus").show()
				$("#loginUser").hide()
			}else{
				$("#loginStatus").hide()
				$("#user").text(user.mobile)
				$("#loginUser").show()
			}

//			轮播时间控制
            $('#myCarousel').carousel({
                interval: 2000
            })
            $('#myCarouse2').carousel({
                interval: 3000
            })
            $('#myCarouse3').carousel({
                interval: 2500
            })
        })
	</script>

	<!--广告位-->
	<style>

		#guang_right::-webkit-scrollbar
		{
			width: 0px;  /*滚动条宽度*/
			/*height: 16px;*/
		}
		/*定义滚动条轨道 内阴影+圆角*/
		#guang_right::-webkit-scrollbar-track
		{
			-webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3);
			border-radius: 10px;  /*滚动条的背景区域的圆角*/
			background-color: red;/*滚动条的背景颜色*/
		}
		/*定义滑块 内阴影+圆角*/
		#guang_right::-webkit-scrollbar-thumb
		{
			border-radius: 10px;  /*滚动条的圆角*/
			-webkit-box-shadow: inset 0 0 6px rgba(0,0,0,.3);
			background-color: green;  /*滚动条的背景颜色*/
		}


		#guang_left{
			height:auto;
			width: 10%;
			/*background: #b9def0;*/
			position:fixed;
			bottom:15%;
			left: 0;
			border:1px solid #ADCD3C;
			background-color: #F2FDDB
		}
		#guang_right{
			height: 700px;
			width: 10%;
			overflow:hidden;
			overflow-y:scroll;
			position:fixed;
			bottom: 10%;
			left: 90%;
			border:1px solid #ADCD3C;
			background-color: #F2FDDB
		}
	</style>
	<!--  -->
	<body>
		<div class="container">
			<!--头部信息-->
			<div class="row" style="">
				<div class="col-lg-5 col-lg-offset-7  text-right">

				</div>
			</div>
			<!--  -->
			<div class="row" style="margin-top: 150px;margin-bottom: 0px;">
				<div class="col-lg-4">
					<ul class="list-inline">
						<li>
							<h3>选酒店就来</h3>
						</li>
						<li><h2><em>爱旅行</em></h2></li>
					</ul>
				</div>
				<div class="col-lg-2  col-md-2  col-sm-2text-right" style="margin-top: 10px;">
				</div>
				<div class="col-lg-3 col-lg-offset-3 col-md-3 col-md-offset-3 col-sm-3 col-sm-offset-3 text-right " id="loginStatus">
					<ul class="list-inline dropdown">
						<li>
							<a href="loginAndRegister.html">请登录</a>
						</li>
						<li>
							<button type="button" class="btn dropdown-toggle" id="myinfo" data-toggle="dropdown">
								个人菜单
							</button>
							<ul class="dropdown-menu" role="menu" aria-lableledby="myinfo">
								<li role="presentation">
									<a href="myinfo.html" role="menuitem">个人信息</a>
								</li>
								<li role="presentation">
									<a href="contact.html" role="menuitem">常用联系人</a>
								</li>
								<li role="presentation">
									<a href="/order/queryAllOrder" role="menuitem">我的订单</a>
								</li>
								<li role="presentation">
									<a href="index.html" role="menuitem">酒店查询</a>
								</li>
							</ul>
						</li>
					</ul>
				</div>
				<div class="col-lg-6 col-lg-offset-2 col-md-7 col-md-offset-2 col-sm-7 col-sm-offset-2 text-right ml-auto" id="loginUser">
					<ul class="nav nav-pills text-right ml-auto">
						<li>
							<a href="myinfo.html" id="user"></a>
						</li>
						<li class="active">
							<a href="/index.html">酒店查询</a>
						</li>
						<li >
							<a href="/myinfo.html" >个人信息</a>
						</li>
						<li >
							<a href="/contact.html">联系人信息</a>
						</li>
						<li  >
							<a href="/order/queryAllOrder?pageNum=1">我的订单</a>
						</li>
						<li >
							<a href="index.html" id="logout">注销</a>
						</li>
					</ul>
				</div>
			</div>

			<div class="row">
				<div class="col-lg-12 col-xs-12 col-sm-12 col-md-12  text-center" >
					<ul class="list-inline">
						<li>
							<img src="img/s3.png" width="100%">
						</li>
						<li>
							<img src="img/s4.png" width="100%">
						</li>
					</ul>


				</div>
			</div>

			<div class="center">
				<div class="row navbar navbar-fixed-top" style="background-color: #66AFE9;padding: 20px;">
					<form>
						<div class="col-lg-2 col-md-2 col-sm-2" style="margin-left: 5%">
							目的地：<br>
							<div class='input-group' style="width: 14em;">
								<input type="text" id="citySelect" placeholder="请输入目的地" class="form-control">
							</div>
						</div>

						<div class="col-lg-2 col-md-2 col-sm-2 date">

							入住日期：
							<div class='input-group date' style="width: 14em;" id='datetimepicker1'>
								<input type='text' id="indate"  class="timeInput form-control" />
								<span class="input-group-addon">
									<span class="glyphicon glyphicon-calendar"></span>
								</span>
							</div>
							退房日期：
							<div class='input-group date' style="width: 14em;" id='datetimepicker2'>
								<input type='text' id="outdate" class="timeInput form-control" />
								<span class="input-group-addon">
								<span class="glyphicon glyphicon-calendar"></span>
								</span>
							</div>
						</div>

						<div class="col-lg-2 col-md-2 col-sm-2">
							房间数：
							<div class='input-group' style="width: 14em;">
								<select name="" id="room_num" class="form-control">
									<option value="1">1间</option>
									<option value="2">2间</option>
									<option value="3">3间</option>
									<option value="4">4间</option>
									<option value="5">5间</option>
									<option value="6">6间</option>
									<option value="7">7间</option>
									<option value="8">8间</option>
									<option value="9">9间</option>
									<option value="10">10间</option>
								</select>
							</div>
						</div>
						<div class="col-lg-2 col-md-2 col-sm-2">
							住客人数：
							<div class='input-group' style="width: 14em;">
								<input type="number" value="1" id="person_num" class="form-control" placeholder="1"/>
							</div>
						</div>
						<div class="col-lg-2 col-md-2 col-sm-2">
							酒店级别：
							<div class='input-group' style="width: 14em;">
								<select name="level" class=" form-control" id="level">
								<option value="0">不限</option>
								<option value="5">五星酒店</option>
								<option value="4">四星酒店</option>
								<option value="3">三星酒店</option>
								<option value="1">三星及以下</option>
								</select>
							</div>
							关键词：
							<div class='input-group' style="width: 14em;">
								<input type="text" class="form-control" id="hotel_name" placeholder="酒店名" />
							</div>

						</div>
						<div class="col-lg-1 col-md-1 col-sm-1 text-left">
							<input type="button" class="btn btn-warning btn-lg" value="搜索酒店" id="search"  style="margin:10px; "></input>
						</div>
					</form>
				</div>
			</div>
			<br />
			<!--条件排序-->
			<div id="sousuo" class="text-left navbar" style="background-color: #f7e1b5;padding: 15px 10px 0;">
				<ul class="list-inline">
					<li>
						<input id="order_by_common" type="button" class="btn btn-info btn-sm" value="好评优先" >
					</li>
					<li>
						<input id="order_by_price" type="button" class="btn btn-sm" value="价格 ↑" >
					</li>
					<li>
						<input id="order_by_price_desc" type="button" class="btn btn-sm" value="价格 ↓">
					</li>
					<li>
						<input id="order_by_star" type="button" class="btn btn-sm" value="星级 ↑">
					</li>
					<li>
						<input id="order_by_star_desc" type="button" class="btn btn-sm" value="星级 ↓">
					</li>
				</ul>
			</div>
			<div class="center-block" id="hotel_info">

			</div>
			<div class="row">
				<div class="col-lg-6 col-md-6 col-sm-6 col-lg-offset-3 col-md-offset-3 col-sm-offset-3 text-center">
					<ul class="pagination pagination text-center" id="page">
						

					</ul>
				</div>
			</div>
		</div>

		<!--左侧广告-->
		<div id="guang_left">



			<ul class="text-center">
				<li>
					<div id="myCarousel" class="carousel slide">
						<!-- 轮播（Carousel）项目 -->
						<div class="carousel-inner">
							<div class="item active">
								<img src="http://www.chinavoices.cn:30033/1 (88).jpg" width="96%" height="180px" style="margin: 5px;"  alt="First slide">
							</div>
							<div class="item">
								<img src="http://www.chinavoices.cn:30033/1 (89).jpg" width="96%" height="180px" style="margin: 5px;"  alt="Second slide">
							</div>
							<div class="item">
								<img src="http://www.chinavoices.cn:30033/1 (86).jpg" width="96%" height="180px" style="margin: 5px;"  alt="Third slide">
							</div>
						</div>
						<!-- 轮播（Carousel）导航 -->
						<!--<a class="carousel-control left" href="#myCarousel"-->
						   <!--data-slide="prev">&lsaquo;</a>-->
						<!--<a class="carousel-control right" href="#myCarousel"-->
						   <!--data-slide="next">&rsaquo;</a>-->
					</div>
				</li>
				<li>
					<p class="h4 text-center" >精品酒店展示</p>
				</li>
				<li>
					<div id="myCarouse2" class="carousel slide">
						<!-- 轮播（Carousel）项目 -->
						<div class="carousel-inner">
							<div class="item active">
								<img src="http://www.chinavoices.cn:30033/1 (24).jpg" width="96%" height="180px" style="margin: 5px;"  alt="First slide">
							</div>
							<div class="item">
								<img src="http://www.chinavoices.cn:30033/1 (85).jpg" width="96%" height="180px" style="margin: 5px;"  alt="Second slide">
							</div>
							<div class="item">
								<img src="http://www.chinavoices.cn:30033/1 (12).jpg" width="96%" height="180px" style="margin: 5px;"  alt="Third slide">
							</div>
						</div>
					</div>
				</li>
				<li>
					<p class="h4 text-center" >精品酒店展示</p>
				</li>
				<li>
					<div id="myCarouse3" class="carousel slide">
						<!-- 轮播（Carousel）项目 -->
						<div class="carousel-inner">
							<div class="item active">
								<img src="http://www.chinavoices.cn:30033/1 (73).jpg" width="96%" height="180px" style="margin: 5px;"  alt="First slide">
							</div>
							<div class="item">
								<img src="http://www.chinavoices.cn:30033/1 (67).jpg" width="96%" height="180px" style="margin: 5px;"  alt="Second slide">
							</div>
							<div class="item">
								<img src="http://www.chinavoices.cn:30033/1 (81).jpg" width="96%" height="180px" style="margin: 5px;"  alt="Third slide">
							</div>
						</div>
					</div>
				</li>
			</ul>
		</div>
		<div id="guang_right">
			<ul class="text-center list-group">

				<li>
					<img src="img/right_2.jfif" width="96%" style="margin:0 5px;" >
				</li>
				<li>
					<p class=" text-center" >优质景点推荐</p>
				</li>
				<li>
					<img src="img/right_3.jpg" width="96%" style="margin:0 5px;" >
				</li>
				<li>
					<p class=" text-center" >优质景点推荐</p>
				</li>
				<li>
					<img src="img/right_4.jpg" width="96%" style="margin:0 5px;" >
				</li>
				<li>
					<p class=" text-center" >优质景点推荐</p>
				</li>
				<li>
					<img src="img/right_1.jfif" width="96%"  style="margin: 0 5px;" >
				</li>
				<li>
					<p class=" text-center" >优质景点推荐</p>
				</li>
				<li>
					<img src="img/right_5.jpg" width="96%" style="margin:0 5px;" >
				</li>
			</ul>

		</div>

		<!--底部信息-->
		<div class="container-fluid">
			<hr>
			<div class="row">
				<div class="col-lg-6 col-lg-offset-2 text-center" style="margin-top: 0px;height: 100px;margin-bottom: 10px">
					<ul class="list-inline" style="margin-top: 30px">
						<li>&nbsp;&nbsp;</li>
						<li>&nbsp;&nbsp;</li>
						<li>&nbsp;&nbsp;</li>
						<li>&nbsp;&nbsp;</li>
						<li>&nbsp;&nbsp;</li>
						<li>&nbsp;关于爱旅行&nbsp;</li>
						<li>&nbsp;联系我们&nbsp;</li>
						<li>&nbsp;安全中心&nbsp;</li>
						<li>&nbsp;关于爱旅行&nbsp;</li>
						<li>&nbsp;友情链接(<a href="http://www.cfourb.cn/ccBlog"><span style="color: darkred">CC--BLOG</span></a>)</li>
					</ul>
					<p class="copy" style="margin-left: 12%">Copyright © 2019- 爱旅行 | 爱旅行 &nbsp;&nbsp;&nbsp;&nbsp;     京ICP备12345678号-9&nbsp;&nbsp;&nbsp;<a href="http://www.bootstrapmb.com/" target="_blank" style="    color: rgb(139, 147, 157);"></a></p>
				</div>
				<div class="col-lg-1 text-left">
					<p>
						<img src="/img/erweima.jfif" width="100px" height="100px">
					</p>
				</div>
			</div>
			<div class="row">
				<div class="col-lg-3 col-lg-offset-7 text-center" style="margin-bottom: 30px">
					<h5>扫码关注公众号，随时随地更方便！</h5>
				</div>
			</div>
		</div>


		<script type="text/javascript" src="http://hovertree.com/texiao/js/36/js/cityselect.js"></script>
		<!--城市列表查询-->
		<script type="text/javascript">
			var hovertree = new Vcity.CitySelector({
				input: 'citySelect'
			});
		</script>
		<!--加载页面查询-->
		<script type="text/javascript">
			$(function() {

                //******************ajax查询所有酒店--start******************
                var cityName = $("#citySelect").val()
                console.log(cityName)
                var indate = $("#indate").val()
                console.log(indate)
                var outdate = $("#outdate").val()
                console.log(outdate)
                var roomNum = $("#room_num").val()
                console.log(roomNum)
                var personNum = $("#person_num").val()
                console.log(personNum)
                var level = $("#level").val()
                console.log(level)
                var hotelName = $("#hotel_name").val()
                console.log(hotelName)
                $.ajax({
                    type: "POST",
                    url: "../hotel/queryHotelByContidion",
                    async: true,
                    dataType: "json",
                    data: {
                        cityName: cityName,
                        indate: indate,
                        outdate: outdate,
                        roomNum: roomNum,
                        personNum: personNum,
                        level: level,
                        hotelName: hotelName,
						orderBy:"5"
                    },
					success: function(result) {
						console.log(result)
						console.log(result.length)
						$.each(result.list, function(i, item) {
							//随机数
							var num = Math.floor(Math.random() * 10);
							console.log("我是each中的" + i
								+ "+" + item.name)
                            //星级
                            var hotel_level="5星级"
                            if(item.star==4){
                                hotel_level="4星级"
                            }
                            if(item.star==3){
                                hotel_level="3星级"
                            }
                            if(item.star==2){
                                hotel_level="2星级"
                            }
                            if(item.star==1){
                                hotel_level="1星级"
                            }
                            if(item.star==0){
                                hotel_level="非星级酒店"
                            }
							$("#hotel_info").append(
								"<br>" +
								"<div class=\"row\" style='border-bottom:2px solid #666'>" +
								"<div class=\"col-lg-2 col-md-2 col-sm-2\" style=\"margin: 10px 0px\">" +
								"<img src=\"http://www.chinavoices.cn:30033/"+item.imgSrc+"\" style=\"width: 100%;height: 210px\"/>" +
								"</div>" +
								"<div class=\"col-lg-6 col-md-6 col-sm-6\">" +
								"<div>" +
								"<h3 class=\"text-info\">" + item.name + "</h3>" +
								"<p>" + item.position + "</p>" +
								"<p>" +
								"<a  href=\"#\">地图</a>" +
								"&nbsp;&nbsp;&nbsp;&nbsp;" +
								"<a  href=\"#\">街景</a>" +
								"</p>" +
								"<p>" +
								"<span class=\"bg-danger\">天天特价减35</span>&nbsp;" +
								"<span class=\"bg-info\">休闲度假</span>&nbsp;" +
								"<span class=\"bg-info\">商务出行</span>&nbsp;" +
								"</p>" +
								"<img src=\"img/icon_wifi.png\" width=\"25px\" height=\"25px\" /> &nbsp;" +
								"<img src=\"img/icon_canyin.png\" width=\"25px\" height=\"25px\" /> &nbsp;" +
								"<img src=\"img/icon_tingche.png\" width=\"25px\" height=\"25px\" /> &nbsp;" +
								"<p class=\"text-success\">最新预定："+Math.floor((Math.random()*60)+1)+"分钟前</p>" +
								"</div>" +
								"</div>" +
								"<div class=\"col-lg-2 col-md-2 col-sm-2 text-right\">" +
								"<h3 class=\"text-info \">" + (item.sum/item.count).toFixed(2) + "</h3>" +
								"<p>9" + num + "%用户推荐</p>" +
								"<p>"+hotel_level+"</p>"+
								"<p>...</p>" +
								"</div>" +
								"<div class=\"col-lg-2 col-md-2 col-sm-2\">" +
								"<p class=\"text-right\"><del>￥"+item.rooms[0].price*1.25+"起</del></p>" +
								"<p class=\"text-right\">￥<span style=\"color: #F0AD4E;font-size: 30px;\" >"+item.rooms[0].price+"</span>起</p>" +
								"<p class=\"text-right\">促销优惠满减</p>" +
								"<br>" +
								"<br>" +
								"<br>" +
								"<p class=\"text-right\"><button type=\"button\" class=\"btn btn-warning text-center\"><a href=\"roomdetails.html?hotelId="+item.hId+"\">查看详情</a></button></p>" +
								"</div>" +
								"</div>"
							);
						})
                        //添加页码
                        if (result.pages<=10){
                            for (i = 1; i <= result.pages; i++) {
                                console.log(i)
                                $("#page").append("<li id='liall" + i + "' name='pageAll' class='page' no=" + i + "><a >" + i + "</a></li>")
                                if (i == result.pageNum) {
                                    $("#liall" + i).attr("class", "active")
                                }
                            }
                        }else{
                            if (result.pageNum<6){
                                for (i = 1; i <= 10; i++) {
                                    console.log(i)
                                    $("#page").append("<li id='liall" + i + "' name='pageAll' class='page' no=" + i + "><a >" + i + "</a></li>")
                                    if (i == result.pageNum) {
                                        $("#liall" + i).attr("class", "active")
                                    }
                                }
                                $("#page").append("<li id='" + i + "' name='pageAll' class='page' no=" + i + "><a >···</a></li>")
                                $("#page").append("<li id='" + result.pages + "' name='page' class='page' no=" + result.pages + "><a >"+result.pages+"</a></li>")
                            }else {
                                $("#page").append("<li id='liall" + 1 + "' name='pageAll' class='page' no=" + 1 + "><a >" + 1 + "</a></li>")
                                for (i = result.pageNum-3; i <= result.pageNum+3; i++) {
                                    console.log(i)
                                    $("#page").append("<li id='liall" + i + "' name='pageAll' class='page' no=" + i + "><a >" + i + "</a></li>")
                                    if (i == result.pageNum) {
                                        $("#liall" + i).attr("class", "active")
                                    }
                                }
                                $("#page").append("<li id='liall" + result.pages + "' name='pageAll' class='page' no=" + result.pages + "><a >" + result.pages + "</a></li>")

                            }
                        }
					},
					error: function() {
						console.log("查询失败！")
					}
				})

                //******************分页查询--查询所有--start******************
                $("ul#page").on("click","li",function(){      //只需要找到你点击的是哪个ul里面的就行
                    var cityName = $("#citySelect").val()
                    console.log(cityName)
                    var indate = $("#indate").val()
                    console.log(indate)
                    var outdate = $("#outdate").val()
                    console.log(outdate)
                    var roomNum = $("#room_num").val()
                    console.log(roomNum)
                    var personNum = $("#person_num").val()
                    console.log(personNum)
                    var hotelName = $("#hotel_name").val()
                    console.log(hotelName)
                    var level = $("#level").val()
                    console.log(level)
                    var pageNo=$(this).text()
                    console.log(pageNo)

                    $.ajax({
                        type: "POST",
                        url: "../hotel/queryHotelByContidion",
                        async: true,
                        dataType:"json",
                        data: {
                            cityName: cityName,
                            indate: indate,
                            outdate: outdate,
                            roomNum: roomNum,
                            personNum: personNum,
                            level: level,
                            hotelName: hotelName,
							pageNo:pageNo
                        },
                        success: function(result) {
                            $("#hotel_info").html('')
                            $("#page").html('')
                            console.log(result);
                            $.each(result.list, function(i, item) {
                                //随机数
                                var num = Math.floor(Math.random() * 10);
                                //星级
									var hotel_level="5星级"
									if(item.star==4){
									    hotel_level="4星级"
									}
                                    if(item.star==3){
                                        hotel_level="3星级"
                                    }
                                    if(item.star==2){
                                        hotel_level="2星级"
                                    }
                                    if(item.star==1){
                                        hotel_level="1星级"
                                    }
                                    if(item.star==0){
                                        hotel_level="非星级酒店"
                                    }
									console.log("我是each中的" + i + "+" + item.name)
                            $("#hotel_info").append(
                                "<br>" +
                                "<div class=\"row\" style='border-bottom:2px solid #666'>" +
                                "<div class=\"col-lg-2 col-md-2 col-sm-2\" style=\"margin: 10px 0px\">" +
                                "<img src=\"http://www.chinavoices.cn:30033/"+item.imgSrc+"\" style=\"width: 100%;height: 210px\"/>" +
                                "</div>" +
                                "<div class=\"col-lg-6 col-md-6 col-sm-6\">" +
                                "<div>" +
                                "<h3 class=\"text-info\">" + item.name + "</h3>" +
                                "<p>" + item.position + "</p>" +
                                "<p>" +
                                "<a  href=\"#\">地图</a>" +
                                "&nbsp;&nbsp;&nbsp;&nbsp;" +
                                "<a  href=\"#\">街景</a>" +
                                "</p>" +
                                "<p>" +
                                "<span class=\"bg-danger\">天天特价减35</span>&nbsp;" +
                                "<span class=\"bg-info\">休闲度假</span>&nbsp;" +
                                "<span class=\"bg-info\">商务出行</span>&nbsp;" +
                                "</p>" +
                                "<img src=\"img/icon_wifi.png\" width=\"25px\" height=\"25px\" /> &nbsp;" +
                                "<img src=\"img/icon_canyin.png\" width=\"25px\" height=\"25px\" /> &nbsp;" +
                                "<img src=\"img/icon_tingche.png\" width=\"25px\" height=\"25px\" /> &nbsp;" +
                                "<p class=\"text-success\">最新预定："+Math.floor((Math.random()*60)+1)+"分钟前</p>" +
                                "</div>" +
                                "</div>" +
                                "<div class=\"col-lg-2 col-md-2 col-sm-2 text-right\">" +
                                "<h3 class=\"text-info \">" + (item.sum/item.count).toFixed(2) + "</h3>" +
                                "<p>9" + num + "%用户推荐</p>" +
								"<p>"+hotel_level+"</p>"+
                                "<p>...</p>" +
                                "</div>" +
                                "<div class=\"col-lg-2 col-md-2 col-sm-2\">" +
                                "<p class=\"text-right\"><del>￥"+item.rooms[0].price*1.25+"起</del></p>" +
                                "<p class=\"text-right\">￥<span style=\"color: #F0AD4E;font-size: 30px;\" >"+item.rooms[0].price+"</span>起</p>" +
                                "<p class=\"text-right\">促销优惠满减</p>" +
                                "<br>" +
                                "<br>" +
                                "<br>" +
                                "<p class=\"text-right\"><button type=\"button\" class=\"btn btn-warning text-center\"><a href=\"roomdetails.html?hotelId="+item.hId+"\">查看详情</a></button></p>" +
                                "</div>" +
                                "</div>"
                            );
                        })
                        //添加页码
                        if (result.pages<=10){
                            for (i = 1; i <= result.pages; i++) {
                                console.log(i)
                                $("#page").append("<li id='liall" + i + "' name='pageAll' class='page' no=" + i + "><a >" + i + "</a></li>")
                                if (i == result.pageNum) {
                                    $("#liall" + i).attr("class", "active")
                                }
                            }
                        }else{
                            if (result.pageNum<6){
                                for (i = 1; i <= 10; i++) {
                                    console.log(i)
                                    $("#page").append("<li id='liall" + i + "' name='pageAll' class='page' no=" + i + "><a >" + i + "</a></li>")
                                    if (i == result.pageNum) {
                                        $("#liall" + i).attr("class", "active")
                                    }
                                }
                                $("#page").append("<li id='" + i + "' name='pageAll' class='page' no=" + i + "><a >···</a></li>")
                                $("#page").append("<li id='" + result.pages + "' name='page' class='page' no=" + result.pages + "><a >"+result.pages+"</a></li>")
                            }else {
                                $("#page").append("<li id='liall" + 1 + "' name='pageAll' class='page' no=" + 1 + "><a >" + 1 + "</a></li>")
                                $("#page").append("<li id='" + i + "' name='pageAll' class='page' no=" + i + "><a >···</a></li>")
                                if(result.pageNum+3<=result.pages){
                                    for (i = result.pageNum-3; i <= result.pageNum+3; i++) {
                                        console.log(i)
                                        $("#page").append("<li id='liall" + i + "' name='pageAll' class='page' no=" + i + "><a >" + i + "</a></li>")
                                        if (i == result.pageNum) {
                                            $("#liall" + i).attr("class", "active")
                                        }
                                    }
                                    $("#page").append("<li id='" + i + "' name='pageAll' class='page' no=" + i + "><a >···</a></li>")
                                    $("#page").append("<li id='liall" + result.pages + "' name='pageAll' class='page' no=" + result.pages + "><a >" + result.pages + "</a></li>")
								}else {
                                    for (i = result.pages-6; i <= result.pages; i++) {
                                        console.log(i)
                                        $("#page").append("<li id='liall" + i + "' name='pageAll' class='page' no=" + i + "><a >" + i + "</a></li>")
                                        if (i == result.pageNum) {
                                            $("#liall" + i).attr("class", "active")
                                        }
                                    }

								}
                            }
                        }
                    },
                        error:function(){
                            console.log("查询失败")
                        }
                    })
                });

				//搜索条件查询
				$("#search").click(function() {
				    console.log("搜索按钮")
					var cityName = $("#citySelect").val()
					console.log(cityName)
					var indate = $("#indate").val()
					console.log(indate)
					var outdate = $("#outdate").val()
					console.log(outdate)
					var roomNum = $("#room_num").val()
					console.log(roomNum)
					var personNum = $("#person_num").val()
					console.log(personNum)
					var level = $("#level").val()
					console.log(level)
					var hotelName = $("#hotel_name").val()
					console.log(hotelName)
					$.ajax({
                        type: "POST",
                        url: "../hotel/queryHotelByContidion",
                        async: true,
                        dataType: "json",
                        data: {
                            cityName: cityName,
                            indate: indate,
                            outdate: outdate,
                            roomNum: roomNum,
                            personNum: personNum,
                            level: level,
                            hotelName: hotelName,
						},
						success: function(result) {
                            $("#hotel_info").html('')
                            $("#page").html('')
                            console.log(result);
                            if (result.list!=null){
                                $.each(result.list, function(i, item) {
                                    //随机数
                                    var num = Math.floor(Math.random() * 10);
                                    //星级
									var hotel_level="5星级"
									if(item.star==4){
									    hotel_level="4星级"
									}
                                    if(item.star==3){
                                        hotel_level="3星级"
                                    }
                                    if(item.star==2){
                                        hotel_level="2星级"
                                    }
                                    if(item.star==1){
                                        hotel_level="1星级"
                                    }
                                    if(item.star==0){
                                        hotel_level="非星级酒店"
                                    }
                                    console.log("我是each中的" + i + "+" + item.name)
                                    $("#hotel_info").append(
                                        "<br>" +
                                        "<div class=\"row\" style='border-bottom:2px solid #666'>" +
                                        "<div class=\"col-lg-2 col-md-2 col-sm-2\" style=\"margin: 10px 0px\">" +
                                        "<img src=\"http://www.chinavoices.cn:30033/"+item.imgSrc+"\" style=\"width: 100%;height: 210px\"/>" +
                                        "</div>" +
                                        "<div class=\"col-lg-6 col-md-6 col-sm-6\">" +
                                        "<div>" +
                                        "<h3 class=\"text-info\">" + item.name + "</h3>" +
                                        "<p>" + item.position + "</p>" +
                                        "<p>" +
                                        "<a  href=\"#\">地图</a>" +
                                        "&nbsp;&nbsp;&nbsp;&nbsp;" +
                                        "<a  href=\"#\">街景</a>" +
                                        "</p>" +
                                        "<p>" +
                                        "<span class=\"bg-danger\">天天特价减35</span>&nbsp;" +
                                        "<span class=\"bg-info\">休闲度假</span>&nbsp;" +
                                        "<span class=\"bg-info\">商务出行</span>&nbsp;" +
                                        "</p>" +
                                        "<img src=\"img/icon_wifi.png\" width=\"25px\" height=\"25px\" /> &nbsp;" +
                                        "<img src=\"img/icon_canyin.png\" width=\"25px\" height=\"25px\" /> &nbsp;" +
                                        "<img src=\"img/icon_tingche.png\" width=\"25px\" height=\"25px\" /> &nbsp;" +
                                        "<p class=\"text-success\">最新预定："+Math.floor((Math.random()*60)+1)+"分钟前</p>" +
                                        "</div>" +
                                        "</div>" +
                                        "<div class=\"col-lg-2 col-md-2 col-sm-2 text-right\">" +
                                        "<h3 class=\"text-info \">" + (item.sum/item.count).toFixed(2) + "</h3>" +
                                        "<p>9" + num + "%用户推荐</p>" +
										"<p>"+hotel_level+"</p>"+
                                        "<p>...</p>" +
                                        "</div>" +
                                        "<div class=\"col-lg-2 col-md-2 col-sm-2\">" +
                                        "<p class=\"text-right\"><del>￥"+item.rooms[0].price*1.25+"起</del></p>" +
                                        "<p class=\"text-right\">￥<span style=\"color: #F0AD4E;font-size: 30px;\" >"+item.rooms[0].price+"</span>起</p>" +
                                        "<p class=\"text-right\">促销优惠满减</p>" +
                                        "<br>" +
                                        "<br>" +
                                        "<br>" +
                                        "<p class=\"text-right\"><button type=\"button\" class=\"btn btn-warning text-center\"><a href=\"roomdetails.html?hotelId="+item.hId+"\">查看详情</a></button></p>" +
                                        "</div>" +
                                        "</div>"
                                    );
                                })
                                //添加页码
                                if (result.pages<=10){
                                    for (i = 1; i <= result.pages; i++) {
                                        console.log(i)
                                        $("#page").append("<li id='liall" + i + "' name='pageAll' class='page' no=" + i + "><a >" + i + "</a></li>")
                                        if (i == result.pageNum) {
                                            $("#liall" + i).attr("class", "active")
                                        }
                                    }
                                }else{
                                    if (result.pageNum<6){
                                        for (i = 1; i <= 10; i++) {
                                            console.log(i)
                                            $("#page").append("<li id='liall" + i + "' name='pageAll' class='page' no=" + i + "><a >" + i + "</a></li>")
                                            if (i == result.pageNum) {
                                                $("#liall" + i).attr("class", "active")
                                            }
                                        }
                                        $("#page").append("<li id='" + i + "' name='pageAll' class='page' no=" + i + "><a >···</a></li>")
                                        $("#page").append("<li id='" + result.pages + "' name='page' class='page' no=" + result.pages + "><a >"+result.pages+"</a></li>")
                                    }else {
                                        $("#page").append("<li id='liall" + 1 + "' name='pageAll' class='page' no=" + 1 + "><a >" + 1 + "</a></li>")
                                        for (i = result.pageNum-3; i <= result.pageNum+3; i++) {
                                            console.log(i)
                                            $("#page").append("<li id='liall" + i + "' name='pageAll' class='page' no=" + i + "><a >" + i + "</a></li>")
                                            if (i == result.pageNum) {
                                                $("#liall" + i).attr("class", "active")
                                            }
                                        }
                                        $("#page").append("<li id='liall" + result.pages + "' name='pageAll' class='page' no=" + result.pages + "><a >" + result.pages + "</a></li>")

                                    }
                                }
                            }else{
                                $("#hotel_info").append("")
							}
						},
						error:function () {
							console.log("查询失败！")
                        }
					})
				})


				//******************2019年12月23日17:33:39--start*************
                $("#order_by_common").click(function () {
                    $("#order_by_common").attr("class","btn btn-info")
                    $("#order_by_price").attr("class","btn btn-sm")
                    $("#order_by_price_desc").attr("class","btn btn-sm")
                    $("#order_by_star").attr("class","btn btn-sm")
                    $("#order_by_star_desc").attr("class","btn btn-sm")

                    console.log("好评优先")
                    var cityName = $("#citySelect").val()
                    console.log(cityName)
                    var indate = $("#indate").val()
                    console.log(indate)
                    var outdate = $("#outdate").val()
                    console.log(outdate)
                    var roomNum = $("#room_num").val()
                    console.log(roomNum)
                    var personNum = $("#person_num").val()
                    console.log(personNum)
                    var level = $("#level").val()
                    console.log(level)
                    var hotelName = $("#hotel_name").val()
                    console.log(hotelName)
                    $.ajax({
                        type: "POST",
                        url: "../hotel/queryHotelByContidion",
                        async: true,
                        dataType: "json",
                        data: {
                            cityName: cityName,
                            indate: indate,
                            outdate: outdate,
                            roomNum: roomNum,
                            personNum: personNum,
                            level: level,
                            hotelName: hotelName,
                            orderBy:"5"
                        },
                        success: function(result) {
                            $("#hotel_info").html('')
                            $("#page").html('')
                            console.log(result);
                            if (result.list!=null){
                                $.each(result.list, function(i, item) {
                                    //随机数
                                    var num = Math.floor(Math.random() * 10);
                                    //星级
                                    var hotel_level="5星级"
                                    if(item.star==4){
                                        hotel_level="4星级"
                                    }
                                    if(item.star==3){
                                        hotel_level="3星级"
                                    }
                                    if(item.star==2){
                                        hotel_level="2星级"
                                    }
                                    if(item.star==1){
                                        hotel_level="1星级"
                                    }
                                    if(item.star==0){
                                        hotel_level="非星级酒店"
                                    }
                                    console.log("我是each中的" + i + "+" + item.name)
                                    $("#hotel_info").append(
                                        "<br>" +
                                        "<div class=\"row\" style='border-bottom:2px solid #666'>" +
                                        "<div class=\"col-lg-2 col-md-2 col-sm-2\" style=\"margin: 10px 0px\">" +
                                        "<img src=\"http://www.chinavoices.cn:30033/"+item.imgSrc+"\" style=\"width: 100%;height: 210px\"/>" +
                                        "</div>" +
                                        "<div class=\"col-lg-6 col-md-6 col-sm-6\">" +
                                        "<div>" +
                                        "<h3 class=\"text-info\">" + item.name + "</h3>" +
                                        "<p>" + item.position + "</p>" +
                                        "<p>" +
                                        "<a  href=\"#\">地图</a>" +
                                        "&nbsp;&nbsp;&nbsp;&nbsp;" +
                                        "<a  href=\"#\">街景</a>" +
                                        "</p>" +
                                        "<p>" +
                                        "<span class=\"bg-danger\">天天特价减35</span>&nbsp;" +
                                        "<span class=\"bg-info\">休闲度假</span>&nbsp;" +
                                        "<span class=\"bg-info\">商务出行</span>&nbsp;" +
                                        "</p>" +
                                        "<img src=\"img/icon_wifi.png\" width=\"25px\" height=\"25px\" /> &nbsp;" +
                                        "<img src=\"img/icon_canyin.png\" width=\"25px\" height=\"25px\" /> &nbsp;" +
                                        "<img src=\"img/icon_tingche.png\" width=\"25px\" height=\"25px\" /> &nbsp;" +
                                        "<p class=\"text-success\">最新预定："+Math.floor((Math.random()*60)+1)+"分钟前</p>" +
                                        "</div>" +
                                        "</div>" +
                                        "<div class=\"col-lg-2 col-md-2 col-sm-2 text-right\">" +
                                        "<h3 class=\"text-info \">" + (item.sum/item.count).toFixed(2) + "</h3>" +
                                        "<p>9" + num + "%用户推荐</p>" +
                                        "<p>"+hotel_level+"</p>"+
                                        "<p>...</p>" +
                                        "</div>" +
                                        "<div class=\"col-lg-2 col-md-2 col-sm-2\">" +
                                        "<p class=\"text-right\"><del>￥"+item.rooms[0].price*1.25+"起</del></p>" +
                                        "<p class=\"text-right\">￥<span style=\"color: #F0AD4E;font-size: 30px;\" >"+item.rooms[0].price+"</span>起</p>" +
                                        "<p class=\"text-right\">促销优惠满减</p>" +
                                        "<br>" +
                                        "<br>" +
                                        "<br>" +
                                        "<p class=\"text-right\"><button type=\"button\" class=\"btn btn-warning text-center\"><a href=\"roomdetails.html?hotelId="+item.hId+"\">查看详情</a></button></p>" +
                                        "</div>" +
                                        "</div>"
                                    );
                                })
                                //添加页码
                                if (result.pages<=10){
                                    for (i = 1; i <= result.pages; i++) {
                                        console.log(i)
                                        $("#page").append("<li id='liall" + i + "' name='pageAll' class='page' no=" + i + "><a >" + i + "</a></li>")
                                        if (i == result.pageNum) {
                                            $("#liall" + i).attr("class", "active")
                                        }
                                    }
                                }else{
                                    if (result.pageNum<6){
                                        for (i = 1; i <= 10; i++) {
                                            console.log(i)
                                            $("#page").append("<li id='liall" + i + "' name='pageAll' class='page' no=" + i + "><a >" + i + "</a></li>")
                                            if (i == result.pageNum) {
                                                $("#liall" + i).attr("class", "active")
                                            }
                                        }
                                        $("#page").append("<li id='" + i + "' name='pageAll' class='page' no=" + i + "><a >···</a></li>")
                                        $("#page").append("<li id='" + result.pages + "' name='page' class='page' no=" + result.pages + "><a >"+result.pages+"</a></li>")
                                    }else {
                                        $("#page").append("<li id='liall" + 1 + "' name='pageAll' class='page' no=" + 1 + "><a >" + 1 + "</a></li>")
                                        for (i = result.pageNum-3; i <= result.pageNum+3; i++) {
                                            console.log(i)
                                            $("#page").append("<li id='liall" + i + "' name='pageAll' class='page' no=" + i + "><a >" + i + "</a></li>")
                                            if (i == result.pageNum) {
                                                $("#liall" + i).attr("class", "active")
                                            }
                                        }
                                        $("#page").append("<li id='liall" + result.pages + "' name='pageAll' class='page' no=" + result.pages + "><a >" + result.pages + "</a></li>")

                                    }
                                }
                            }else{
                                $("#hotel_info").append("")
                            }
                        },
                        error:function () {
                            console.log("查询失败！")
                        }
                    })


                })

				//******************2019年12月23日17:34:00--end***************

				//*****start******2019年12月20日17:11:30*********
				//价格升序
                $("#order_by_price").click(function () {
                    $("#order_by_common").attr("class","btn btn-sm")
                    $("#order_by_price").attr("class","btn btn-info")
                    $("#order_by_price_desc").attr("class","btn btn-sm")
                    $("#order_by_star").attr("class","btn btn-sm")
                    $("#order_by_star_desc").attr("class","btn btn-sm")

                    console.log("价格升序")
                    var cityName = $("#citySelect").val()
                    console.log(cityName)
                    var indate = $("#indate").val()
                    console.log(indate)
                    var outdate = $("#outdate").val()
                    console.log(outdate)
                    var roomNum = $("#room_num").val()
                    console.log(roomNum)
                    var personNum = $("#person_num").val()
                    console.log(personNum)
                    var level = $("#level").val()
                    console.log(level)
                    var hotelName = $("#hotel_name").val()
                    console.log(hotelName)
                    $.ajax({
                        type: "POST",
                        url: "../hotel/queryHotelByContidion",
                        async: true,
                        dataType: "json",
                        data: {
                            cityName: cityName,
                            indate: indate,
                            outdate: outdate,
                            roomNum: roomNum,
                            personNum: personNum,
                            level: level,
                            hotelName: hotelName,
                            orderBy:"1"
                        },
                        success: function(result) {
                            $("#hotel_info").html('')
                            $("#page").html('')
                            console.log(result);
                            if (result.list!=null){
                                $.each(result.list, function(i, item) {
                                    //随机数
                                    var num = Math.floor(Math.random() * 10);
                                    //星级
									var hotel_level="5星级"
									if(item.star==4){
									    hotel_level="4星级"
									}
                                    if(item.star==3){
                                        hotel_level="3星级"
                                    }
                                    if(item.star==2){
                                        hotel_level="2星级"
                                    }
                                    if(item.star==1){
                                        hotel_level="1星级"
                                    }
                                    if(item.star==0){
                                        hotel_level="非星级酒店"
                                    }
                                    console.log("我是each中的" + i + "+" + item.name)
                                    $("#hotel_info").append(
                                        "<br>" +
                                        "<div class=\"row\" style='border-bottom:2px solid #666'>" +
                                        "<div class=\"col-lg-2 col-md-2 col-sm-2\" style=\"margin: 10px 0px\">" +
                                        "<img src=\"http://www.chinavoices.cn:30033/"+item.imgSrc+"\" style=\"width: 100%;height: 210px\"/>" +
                                        "</div>" +
                                        "<div class=\"col-lg-6 col-md-6 col-sm-6\">" +
                                        "<div>" +
                                        "<h3 class=\"text-info\">" + item.name + "</h3>" +
                                        "<p>" + item.position + "</p>" +
                                        "<p>" +
                                        "<a  href=\"#\">地图</a>" +
                                        "&nbsp;&nbsp;&nbsp;&nbsp;" +
                                        "<a  href=\"#\">街景</a>" +
                                        "</p>" +
                                        "<p>" +
                                        "<span class=\"bg-danger\">天天特价减35</span>&nbsp;" +
                                        "<span class=\"bg-info\">休闲度假</span>&nbsp;" +
                                        "<span class=\"bg-info\">商务出行</span>&nbsp;" +
                                        "</p>" +
                                        "<img src=\"img/icon_wifi.png\" width=\"25px\" height=\"25px\" /> &nbsp;" +
                                        "<img src=\"img/icon_canyin.png\" width=\"25px\" height=\"25px\" /> &nbsp;" +
                                        "<img src=\"img/icon_tingche.png\" width=\"25px\" height=\"25px\" /> &nbsp;" +
                                        "<p class=\"text-success\">最新预定："+Math.floor((Math.random()*60)+1)+"分钟前</p>" +
                                        "</div>" +
                                        "</div>" +
                                        "<div class=\"col-lg-2 col-md-2 col-sm-2 text-right\">" +
                                        "<h3 class=\"text-info \">" + (item.sum/item.count).toFixed(2) + "</h3>" +
                                        "<p>9" + num + "%用户推荐</p>" +
										"<p>"+hotel_level+"</p>"+
                                        "<p>...</p>" +
                                        "</div>" +
                                        "<div class=\"col-lg-2 col-md-2 col-sm-2\">" +
                                        "<p class=\"text-right\"><del>￥"+item.rooms[0].price*1.25+"起</del></p>" +
                                        "<p class=\"text-right\">￥<span style=\"color: #F0AD4E;font-size: 30px;\" >"+item.rooms[0].price+"</span>起</p>" +
                                        "<p class=\"text-right\">促销优惠满减</p>" +
                                        "<br>" +
                                        "<br>" +
                                        "<br>" +
                                        "<p class=\"text-right\"><button type=\"button\" class=\"btn btn-warning text-center\"><a href=\"roomdetails.html?hotelId="+item.hId+"\">查看详情</a></button></p>" +
                                        "</div>" +
                                        "</div>"
                                    );
                                })
                                //添加页码
                                if (result.pages<=10){
                                    for (i = 1; i <= result.pages; i++) {
                                        console.log(i)
                                        $("#page").append("<li id='liall" + i + "' name='pageAll' class='page' no=" + i + "><a >" + i + "</a></li>")
                                        if (i == result.pageNum) {
                                            $("#liall" + i).attr("class", "active")
                                        }
                                    }
                                }else{
                                    if (result.pageNum<6){
                                        for (i = 1; i <= 10; i++) {
                                            console.log(i)
                                            $("#page").append("<li id='liall" + i + "' name='pageAll' class='page' no=" + i + "><a >" + i + "</a></li>")
                                            if (i == result.pageNum) {
                                                $("#liall" + i).attr("class", "active")
                                            }
                                        }
                                        $("#page").append("<li id='" + i + "' name='pageAll' class='page' no=" + i + "><a >···</a></li>")
                                        $("#page").append("<li id='" + result.pages + "' name='page' class='page' no=" + result.pages + "><a >"+result.pages+"</a></li>")
                                    }else {
                                        $("#page").append("<li id='liall" + 1 + "' name='pageAll' class='page' no=" + 1 + "><a >" + 1 + "</a></li>")
                                        for (i = result.pageNum-3; i <= result.pageNum+3; i++) {
                                            console.log(i)
                                            $("#page").append("<li id='liall" + i + "' name='pageAll' class='page' no=" + i + "><a >" + i + "</a></li>")
                                            if (i == result.pageNum) {
                                                $("#liall" + i).attr("class", "active")
                                            }
                                        }
                                        $("#page").append("<li id='liall" + result.pages + "' name='pageAll' class='page' no=" + result.pages + "><a >" + result.pages + "</a></li>")

                                    }
                                }
                            }else{
                                $("#hotel_info").append("")
                            }
                        },
                        error:function () {
                            console.log("查询失败！")
                        }
                    })


                })

                //价格降序
				$("#order_by_price_desc").click(function () {
                    $("#order_by_common").attr("class","btn btn-sm")
                    $("#order_by_price_desc").attr("class","btn btn-info")
                    $("#order_by_price").attr("class","btn btn-sm")
                    $("#order_by_star").attr("class","btn btn-sm")
                    $("#order_by_star_desc").attr("class","btn btn-sm")

                    console.log("价格倒叙")
                    var cityName = $("#citySelect").val()
                    console.log(cityName)
                    var indate = $("#indate").val()
                    console.log(indate)
                    var outdate = $("#outdate").val()
                    console.log(outdate)
                    var roomNum = $("#room_num").val()
                    console.log(roomNum)
                    var personNum = $("#person_num").val()
                    console.log(personNum)
                    var level = $("#level").val()
                    console.log(level)
                    var hotelName = $("#hotel_name").val()
                    console.log(hotelName)
                    $.ajax({
                        type: "POST",
                        url: "../hotel/queryHotelByContidion",
                        async: true,
                        dataType: "json",
                        data: {
                            cityName: cityName,
                            indate: indate,
                            outdate: outdate,
                            roomNum: roomNum,
                            personNum: personNum,
                            level: level,
                            hotelName: hotelName,
                            orderBy:"2"
                        },
                        success: function(result) {
                            $("#hotel_info").html('')
                            $("#page").html('')
                            console.log(result);
                            if (result.list!=null){
                                $.each(result.list, function(i, item) {
                                    //随机数
                                    var num = Math.floor(Math.random() * 10);
                                    //星级
									var hotel_level="5星级"
									if(item.star==4){
									    hotel_level="4星级"
									}
                                    if(item.star==3){
                                        hotel_level="3星级"
                                    }
                                    if(item.star==2){
                                        hotel_level="2星级"
                                    }
                                    if(item.star==1){
                                        hotel_level="1星级"
                                    }
                                    if(item.star==0){
                                        hotel_level="非星级酒店"
                                    }
                                    console.log("我是each中的" + i + "+" + item.name)
                                    $("#hotel_info").append(
                                        "<br>" +
                                        "<div class=\"row\" style='border-bottom:2px solid #666'>" +
                                        "<div class=\"col-lg-2 col-md-2 col-sm-2\" style=\"margin: 10px 0px\">" +
                                        "<img src=\"http://www.chinavoices.cn:30033/"+item.imgSrc+"\" style=\"width: 100%;height: 210px\"/>" +
                                        "</div>" +
                                        "<div class=\"col-lg-6 col-md-6 col-sm-6\">" +
                                        "<div>" +
                                        "<h3 class=\"text-info\">" + item.name + "</h3>" +
                                        "<p>" + item.position + "</p>" +
                                        "<p>" +
                                        "<a  href=\"#\">地图</a>" +
                                        "&nbsp;&nbsp;&nbsp;&nbsp;" +
                                        "<a  href=\"#\">街景</a>" +
                                        "</p>" +
                                        "<p>" +
                                        "<span class=\"bg-danger\">天天特价减35</span>&nbsp;" +
                                        "<span class=\"bg-info\">休闲度假</span>&nbsp;" +
                                        "<span class=\"bg-info\">商务出行</span>&nbsp;" +
                                        "</p>" +
                                        "<img src=\"img/icon_wifi.png\" width=\"25px\" height=\"25px\" /> &nbsp;" +
                                        "<img src=\"img/icon_canyin.png\" width=\"25px\" height=\"25px\" /> &nbsp;" +
                                        "<img src=\"img/icon_tingche.png\" width=\"25px\" height=\"25px\" /> &nbsp;" +
                                        "<p class=\"text-success\">最新预定："+Math.floor((Math.random()*60)+1)+"分钟前</p>" +
                                        "</div>" +
                                        "</div>" +
                                        "<div class=\"col-lg-2 col-md-2 col-sm-2 text-right\">" +
                                        "<h3 class=\"text-info \">" + (item.sum/item.count).toFixed(2) + "</h3>" +
                                        "<p>9" + num + "%用户推荐</p>" +
										"<p>"+hotel_level+"</p>"+
                                        "<p>...</p>" +
                                        "</div>" +
                                        "<div class=\"col-lg-2 col-md-2 col-sm-2\">" +
                                        "<p class=\"text-right\"><del>￥"+item.rooms[0].price*1.25+"起</del></p>" +
                                        "<p class=\"text-right\">￥<span style=\"color: #F0AD4E;font-size: 30px;\" >"+item.rooms[0].price+"</span>起</p>" +
                                        "<p class=\"text-right\">促销优惠满减</p>" +
                                        "<br>" +
                                        "<br>" +
                                        "<br>" +
                                        "<p class=\"text-right\"><button type=\"button\" class=\"btn btn-warning text-center\"><a href=\"roomdetails.html?hotelId="+item.hId+"\">查看详情</a></button></p>" +
                                        "</div>" +
                                        "</div>"
                                    );
                                })
                                //添加页码
                                if (result.pages<=10){
                                    for (i = 1; i <= result.pages; i++) {
                                        console.log(i)
                                        $("#page").append("<li id='liall" + i + "' name='pageAll' class='page' no=" + i + "><a >" + i + "</a></li>")
                                        if (i == result.pageNum) {
                                            $("#liall" + i).attr("class", "active")
                                        }
                                    }
                                }else{
                                    if (result.pageNum<6){
                                        for (i = 1; i <= 10; i++) {
                                            console.log(i)
                                            $("#page").append("<li id='liall" + i + "' name='pageAll' class='page' no=" + i + "><a >" + i + "</a></li>")
                                            if (i == result.pageNum) {
                                                $("#liall" + i).attr("class", "active")
                                            }
                                        }
                                        $("#page").append("<li id='" + i + "' name='pageAll' class='page' no=" + i + "><a >···</a></li>")
                                        $("#page").append("<li id='" + result.pages + "' name='page' class='page' no=" + result.pages + "><a >"+result.pages+"</a></li>")
                                    }else {
                                        $("#page").append("<li id='liall" + 1 + "' name='pageAll' class='page' no=" + 1 + "><a >" + 1 + "</a></li>")
                                        for (i = result.pageNum-3; i <= result.pageNum+3; i++) {
                                            console.log(i)
                                            $("#page").append("<li id='liall" + i + "' name='pageAll' class='page' no=" + i + "><a >" + i + "</a></li>")
                                            if (i == result.pageNum) {
                                                $("#liall" + i).attr("class", "active")
                                            }
                                        }
                                        $("#page").append("<li id='liall" + result.pages + "' name='pageAll' class='page' no=" + result.pages + "><a >" + result.pages + "</a></li>")

                                    }
                                }
                            }else{
                                $("#hotel_info").append("")
                            }
                        },
                        error:function () {
                            console.log("查询失败！")
                        }
                    })

                })

                //星级升序
				$("#order_by_star").click(function () {
                    $("#order_by_common").attr("class","btn btn-sm")
                    $("#order_by_price_desc").attr("class","btn btn-sm")
                    $("#order_by_price").attr("class","btn btn-sm")
                    $("#order_by_star").attr("class","btn btn-info")
                    $("#order_by_star_desc").attr("class","btn btn-sm")

                    console.log("星级升序")
                    var cityName = $("#citySelect").val()
                    console.log(cityName)
                    var indate = $("#indate").val()
                    console.log(indate)
                    var outdate = $("#outdate").val()
                    console.log(outdate)
                    var roomNum = $("#room_num").val()
                    console.log(roomNum)
                    var personNum = $("#person_num").val()
                    console.log(personNum)
                    var level = $("#level").val()
                    console.log(level)
                    var hotelName = $("#hotel_name").val()
                    console.log(hotelName)
                    $.ajax({
                        type: "POST",
                        url: "../hotel/queryHotelByContidion",
                        async: true,
                        dataType: "json",
                        data: {
                            cityName: cityName,
                            indate: indate,
                            outdate: outdate,
                            roomNum: roomNum,
                            personNum: personNum,
                            level: level,
                            hotelName: hotelName,
                            orderBy:"3"
                        },
                        success: function(result) {
                            $("#hotel_info").html('')
                            $("#page").html('')
                            console.log(result);
                            if (result.list!=null){
                                $.each(result.list, function(i, item) {
                                    //随机数
                                    var num = Math.floor(Math.random() * 10);
                                    //星级
									var hotel_level="5星级"
									if(item.star==4){
									    hotel_level="4星级"
									}
                                    if(item.star==3){
                                        hotel_level="3星级"
                                    }
                                    if(item.star==2){
                                        hotel_level="2星级"
                                    }
                                    if(item.star==1){
                                        hotel_level="1星级"
                                    }
                                    if(item.star==0){
                                        hotel_level="非星级酒店"
                                    }
                                    console.log("我是each中的" + i + "+" + item.name)
                                    $("#hotel_info").append(
                                        "<br>" +
                                        "<div class=\"row\" style='border-bottom:2px solid #666'>" +
                                        "<div class=\"col-lg-2 col-md-2 col-sm-2\" style=\"margin: 10px 0px\">" +
                                        "<img src=\"http://www.chinavoices.cn:30033/"+item.imgSrc+"\" style=\"width: 100%;height: 210px\"/>" +
                                        "</div>" +
                                        "<div class=\"col-lg-6 col-md-6 col-sm-6\">" +
                                        "<div>" +
                                        "<h3 class=\"text-info\">" + item.name + "</h3>" +
                                        "<p>" + item.position + "</p>" +
                                        "<p>" +
                                        "<a  href=\"#\">地图</a>" +
                                        "&nbsp;&nbsp;&nbsp;&nbsp;" +
                                        "<a  href=\"#\">街景</a>" +
                                        "</p>" +
                                        "<p>" +
                                        "<span class=\"bg-danger\">天天特价减35</span>&nbsp;" +
                                        "<span class=\"bg-info\">休闲度假</span>&nbsp;" +
                                        "<span class=\"bg-info\">商务出行</span>&nbsp;" +
                                        "</p>" +
                                        "<img src=\"img/icon_wifi.png\" width=\"25px\" height=\"25px\" /> &nbsp;" +
                                        "<img src=\"img/icon_canyin.png\" width=\"25px\" height=\"25px\" /> &nbsp;" +
                                        "<img src=\"img/icon_tingche.png\" width=\"25px\" height=\"25px\" /> &nbsp;" +
                                        "<p class=\"text-success\">最新预定："+Math.floor((Math.random()*60)+1)+"分钟前</p>" +
                                        "</div>" +
                                        "</div>" +
                                        "<div class=\"col-lg-2 col-md-2 col-sm-2 text-right\">" +
                                        "<h3 class=\"text-info \">" + (item.sum/item.count).toFixed(2) + "</h3>" +
                                        "<p>9" + num + "%用户推荐</p>" +
										"<p>"+hotel_level+"</p>"+
                                        "<p>...</p>" +
                                        "</div>" +
                                        "<div class=\"col-lg-2 col-md-2 col-sm-2\">" +
                                        "<p class=\"text-right\"><del>￥"+item.rooms[0].price*1.25+"起</del></p>" +
                                        "<p class=\"text-right\">￥<span style=\"color: #F0AD4E;font-size: 30px;\" >"+item.rooms[0].price+"</span>起</p>" +
                                        "<p class=\"text-right\">促销优惠满减</p>" +
                                        "<br>" +
                                        "<br>" +
                                        "<br>" +
                                        "<p class=\"text-right\"><button type=\"button\" class=\"btn btn-warning text-center\"><a href=\"roomdetails.html?hotelId="+item.hId+"\">查看详情</a></button></p>" +
                                        "</div>" +
                                        "</div>"
                                    );
                                })
                                //添加页码
                                if (result.pages<=10){
                                    for (i = 1; i <= result.pages; i++) {
                                        console.log(i)
                                        $("#page").append("<li id='liall" + i + "' name='pageAll' class='page' no=" + i + "><a >" + i + "</a></li>")
                                        if (i == result.pageNum) {
                                            $("#liall" + i).attr("class", "active")
                                        }
                                    }
                                }else{
                                    if (result.pageNum<6){
                                        for (i = 1; i <= 10; i++) {
                                            console.log(i)
                                            $("#page").append("<li id='liall" + i + "' name='pageAll' class='page' no=" + i + "><a >" + i + "</a></li>")
                                            if (i == result.pageNum) {
                                                $("#liall" + i).attr("class", "active")
                                            }
                                        }
                                        $("#page").append("<li id='" + i + "' name='pageAll' class='page' no=" + i + "><a >···</a></li>")
                                        $("#page").append("<li id='" + result.pages + "' name='page' class='page' no=" + result.pages + "><a >"+result.pages+"</a></li>")
                                    }else {
                                        $("#page").append("<li id='liall" + 1 + "' name='pageAll' class='page' no=" + 1 + "><a >" + 1 + "</a></li>")
                                        for (i = result.pageNum-3; i <= result.pageNum+3; i++) {
                                            console.log(i)
                                            $("#page").append("<li id='liall" + i + "' name='pageAll' class='page' no=" + i + "><a >" + i + "</a></li>")
                                            if (i == result.pageNum) {
                                                $("#liall" + i).attr("class", "active")
                                            }
                                        }
                                        $("#page").append("<li id='liall" + result.pages + "' name='pageAll' class='page' no=" + result.pages + "><a >" + result.pages + "</a></li>")

                                    }
                                }
                            }else{
                                $("#hotel_info").append("")
                            }
                        },
                        error:function () {
                            console.log("查询失败！")
                        }
                    })

                })

				//星级降序
				$("#order_by_star_desc").click(function () {
                    $("#order_by_common").attr("class","btn btn-sm")
                    $("#order_by_price_desc").attr("class","btn btn-sm")
                    $("#order_by_price").attr("class","btn btn-sm")
                    $("#order_by_star").attr("class","btn btn-sm")
                    $("#order_by_star_desc").attr("class","btn btn-info")

                    console.log("星级降序")
                    var cityName = $("#citySelect").val()
                    console.log(cityName)
                    var indate = $("#indate").val()
                    console.log(indate)
                    var outdate = $("#outdate").val()
                    console.log(outdate)
                    var roomNum = $("#room_num").val()
                    console.log(roomNum)
                    var personNum = $("#person_num").val()
                    console.log(personNum)
                    var level = $("#level").val()
                    console.log(level)
                    var hotelName = $("#hotel_name").val()
                    console.log(hotelName)
                    $.ajax({
                        type: "POST",
                        url: "../hotel/queryHotelByContidion",
                        async: true,
                        dataType: "json",
                        data: {
                            cityName: cityName,
                            indate: indate,
                            outdate: outdate,
                            roomNum: roomNum,
                            personNum: personNum,
                            level: level,
                            hotelName: hotelName,
                            orderBy:"4"
                        },
                        success: function(result) {
                            $("#hotel_info").html('')
                            $("#page").html('')
                            console.log(result);
                            if (result.list!=null){
                                $.each(result.list, function(i, item) {
                                    //随机数
                                    var num = Math.floor(Math.random() * 10);
                                    //星级
									var hotel_level="5星级"
									if(item.star==4){
									    hotel_level="4星级"
									}
                                    if(item.star==3){
                                        hotel_level="3星级"
                                    }
                                    if(item.star==2){
                                        hotel_level="2星级"
                                    }
                                    if(item.star==1){
                                        hotel_level="1星级"
                                    }
                                    if(item.star==0){
                                        hotel_level="非星级酒店"
                                    }
                                    console.log("我是each中的" + i + "+" + item.name)
                                    $("#hotel_info").append(
                                        "<br>" +
                                        "<div class=\"row\" style='border-bottom:2px solid #666'>" +
                                        "<div class=\"col-lg-2 col-md-2 col-sm-2\" style=\"margin: 10px 0px\">" +
                                        "<img src=\"http://www.chinavoices.cn:30033/"+item.imgSrc+"\" style=\"width: 100%;height: 210px\"/>" +
                                        "</div>" +
                                        "<div class=\"col-lg-6 col-md-6 col-sm-6\">" +
                                        "<div>" +
                                        "<h3 class=\"text-info\">" + item.name + "</h3>" +
                                        "<p>" + item.position + "</p>" +
                                        "<p>" +
                                        "<a  href=\"#\">地图</a>" +
                                        "&nbsp;&nbsp;&nbsp;&nbsp;" +
                                        "<a  href=\"#\">街景</a>" +
                                        "</p>" +
                                        "<p>" +
                                        "<span class=\"bg-danger\">天天特价减35</span>&nbsp;" +
                                        "<span class=\"bg-info\">休闲度假</span>&nbsp;" +
                                        "<span class=\"bg-info\">商务出行</span>&nbsp;" +
                                        "</p>" +
                                        "<img src=\"img/icon_wifi.png\" width=\"25px\" height=\"25px\" /> &nbsp;" +
                                        "<img src=\"img/icon_canyin.png\" width=\"25px\" height=\"25px\" /> &nbsp;" +
                                        "<img src=\"img/icon_tingche.png\" width=\"25px\" height=\"25px\" /> &nbsp;" +
                                        "<p class=\"text-success\">最新预定："+Math.floor((Math.random()*60)+1)+"分钟前</p>" +
                                        "</div>" +
                                        "</div>" +
                                        "<div class=\"col-lg-2 col-md-2 col-sm-2 text-right\">" +
                                        "<h3 class=\"text-info \">" + (item.sum/item.count).toFixed(2) + "</h3>" +
                                        "<p>9" + num + "%用户推荐</p>" +
										"<p>"+hotel_level+"</p>"+
                                        "<p>...</p>" +
                                        "</div>" +
                                        "<div class=\"col-lg-2 col-md-2 col-sm-2\">" +
                                        "<p class=\"text-right\"><del>￥"+item.rooms[0].price*1.25+"起</del></p>" +
                                        "<p class=\"text-right\">￥<span style=\"color: #F0AD4E;font-size: 30px;\" >"+item.rooms[0].price+"</span>起</p>" +
                                        "<p class=\"text-right\">促销优惠满减</p>" +
                                        "<br>" +
                                        "<br>" +
                                        "<br>" +
                                        "<p class=\"text-right\"><button type=\"button\" class=\"btn btn-warning text-center\"><a href=\"roomdetails.html?hotelId="+item.hId+"\">查看详情</a></button></p>" +
                                        "</div>" +
                                        "</div>"
                                    );
                                })
                                //添加页码
                                if (result.pages<=10){
                                    for (i = 1; i <= result.pages; i++) {
                                        console.log(i)
                                        $("#page").append("<li id='liall" + i + "' name='pageAll' class='page' no=" + i + "><a >" + i + "</a></li>")
                                        if (i == result.pageNum) {
                                            $("#liall" + i).attr("class", "active")
                                        }
                                    }
                                }else{
                                    if (result.pageNum<6){
                                        for (i = 1; i <= 10; i++) {
                                            console.log(i)
                                            $("#page").append("<li id='liall" + i + "' name='pageAll' class='page' no=" + i + "><a >" + i + "</a></li>")
                                            if (i == result.pageNum) {
                                                $("#liall" + i).attr("class", "active")
                                            }
                                        }
                                        $("#page").append("<li id='" + i + "' name='pageAll' class='page' no=" + i + "><a >···</a></li>")
                                        $("#page").append("<li id='" + result.pages + "' name='page' class='page' no=" + result.pages + "><a >"+result.pages+"</a></li>")
                                    }else {
                                        $("#page").append("<li id='liall" + 1 + "' name='pageAll' class='page' no=" + 1 + "><a >" + 1 + "</a></li>")
                                        for (i = result.pageNum-3; i <= result.pageNum+3; i++) {
                                            console.log(i)
                                            $("#page").append("<li id='liall" + i + "' name='pageAll' class='page' no=" + i + "><a >" + i + "</a></li>")
                                            if (i == result.pageNum) {
                                                $("#liall" + i).attr("class", "active")
                                            }
                                        }
                                        $("#page").append("<li id='liall" + result.pages + "' name='pageAll' class='page' no=" + result.pages + "><a >" + result.pages + "</a></li>")

                                    }
                                }
                            }else{
                                $("#hotel_info").append("")
                            }
                        },
                        error:function () {
                            console.log("查询失败！")
                        }
                    })

                })
                //*****end******2019年12月20日18:17:06-end*********

            })
		</script>
	</body>
	<!--入住时间和退房时间管理-->
	<script>


    var ddd = new Date();
    var day =ddd.getDate();
    var outday=day+1;
    var month = ddd.getMonth()+1;
    var max_out_day = outday+20;
    var max_in_day = max_out_date-1;
    var max_out_month = month
	var max_out_year=ddd.getFullYear()
    if((31-outday)<20){
		max_out_day = 31+20-max_out_day
		max_out_month="01"
		max_out_year="2020"
	}
    if(ddd.getMonth()<10){
        var month = "0"+(ddd.getMonth()+1);
    }
    if(ddd.getDate()<10){
        day = "0"+ddd.getDate();
        var outday="0"+(ddd.getDate()+1);
    }
    var datein = ddd.getFullYear()+"-"+month+"-"+day;
    var datein = datein.toString();
    var dateout = ddd.getFullYear()+"-"+month+"-"+outday;
    var dateout = dateout.toString();
    var max_out_date = max_out_year+"-"+max_out_month+"-"+max_out_day
	var max_in_date = max_out_year+"-"+max_out_month+"-"+max_in_day
	var max_out_date = max_out_date.toString()
	var max_in_date = max_in_date.toString()
	console.log(max_out_date)

    $(function() {
        $('#form1').hide();
        var picker1 = $('#datetimepicker1').datetimepicker({
            format: 'YYYY-MM-DD',
            locale: moment.locale('zh-cn'),
            minDate: datein,
        });
        var picker2 = $('#datetimepicker2').datetimepicker({
            format: 'YYYY-MM-DD',
            locale: moment.locale('zh-cn'),
			minDate:dateout
        });
        //动态设置最小值
        picker1.on('dp.change', function(e) {
            picker2.data('DateTimePicker').minDate(e.date);
        });
//        //动态设置最大值
//        picker2.on('dp.change', function(e) {
//            picker1.data('DateTimePicker').maxDate(e.date);
//        });
    });


    $('#datetimepicker1').datetimepicker({
        format: 'YYYY-MM-DD',
        locale: moment.locale('zh-cn'),
        defaultDate: datein,
		minDate:datein,
        maxDate:max_out_date
    });
    $('#datetimepicker2').datetimepicker({
        format: 'YYYY-MM-DD',
        locale: moment.locale('zh-cn'),
        defaultDate: dateout,
		minDate:dateout,

    });
</script>
</html>
